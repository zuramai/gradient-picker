var h=Object.defineProperty;var g=(i,e,t)=>e in i?h(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var l=(i,e,t)=>(g(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function c(i,e,t){const n=document.createElement(i);for(const o in e)n.setAttribute(o,e[o]);for(const o in t)n.style.setProperty(o,t[o]);return n}class m{constructor({el:e,previewEl:t,colorHandlersEl:n}){l(this,"direction","right");l(this,"el");l(this,"previewEl");l(this,"colorHandlersEl");l(this,"type","linear");l(this,"stops",[]);l(this,"isDragging",!1);this.el=e,this.previewEl=t,this.colorHandlersEl=n,this.previewEl.append(this.colorHandlersEl),this.addColorStop("#3494E6",.5),this.addColorStop("#EC6EAD",99),this.listener()}addColorStop(e,t){this.stops.push({color:e,position:t}),this.createStopHandler(this.stops.length-1),this.updateElementBackground()}changeGradientType(e){this.type=e,this.updateElementBackground()}getGradientString(e=this.type,t=this.direction){const n=r=>Math.round(r*100)/100,o=[...this.stops].sort((r,s)=>r.position-s.position).map(r=>` ${r.color} ${n(r.position)}%`).join(",");return e==="radial"?`radial-gradient(circle ${{bottom:"at center bottom",center:"",left:"at left center",right:"at center right",top:"at center top"}[t]}, ${o})`:`linear-gradient(to ${t},${o})`}updateElementBackground(){const e=this.getGradientString();this.el.style.backgroundImage=e,this.previewEl.style.backgroundImage=this.getGradientString("linear","right");let t=document.getElementById("css");t.textContent=e}createStopHandler(e){const t=this.stops[e],n=c("div",{class:"color__handler","data-index":e.toString()},{"--handler-position":`${t.position}%`}),o=c("div",{class:"color__handler-buttons","data-index":e.toString()},{"--handler-position":`${t.position}%`}),r=c("div",{class:"color__handler-remover"}),s=c("div",{type:"color",class:"color__input-wrapper"}),u=c("input",{type:"color",class:"color__input",value:t.color});s.append(u),u.addEventListener("input",a=>this.onColorChange(a,e)),n.addEventListener("mousedown",a=>this.onHandlerMouseDown(a)),n.addEventListener("mouseup",a=>this.onHandlerMouseUp(a)),this.previewEl.addEventListener("mousemove",a=>this.onHandlerMouseMove(a)),r.addEventListener("click",()=>{this.stops.splice(e,1),n.remove(),o.remove(),this.updateElementBackground()}),o.append(r,s),this.colorHandlersEl.append(n),this.previewEl.append(o)}onHandlerMouseDown(e){e.target.classList.add("active"),this.isDragging=!0}onHandlerMouseMove(e){if(!this.isDragging)return;let t=document.querySelector(".color__handler.active");if(!(t!=null&&t.classList.contains("active")))return;const n=~~(t.getAttribute("data-index")||0),o=this.getPercentage(e.clientX);o<.5||o>99.5||(this.changePosition(n,o),this.updateElementBackground())}onHandlerMouseUp(e){e.target.classList.remove("active"),this.isDragging=!1}changeColor(e,t){this.stops[e].color=t}changePosition(e,t){this.stops[e].position=t,this.previewEl.querySelectorAll(`div[data-index='${e}']`).forEach(n=>n.style.setProperty("--handler-position",t+"%"))}onColorChange(e,t){this.changeColor(t,e.target.value),this.updateElementBackground()}getPercentage(e){const t=this.previewEl.getBoundingClientRect(),n=e-t.x,o=getComputedStyle(this.previewEl).width.slice(0,-2);return n/~~o*100}listener(){this.previewEl.addEventListener("click",n=>{if(n.target.classList.contains("color__handler")||this.isDragging||!this.colorHandlersEl.contains(n.target))return;const o=this.getPercentage(n.clientX);this.addColorStop("#333333",o)});const e=document.getElementById("direction"),t=document.getElementById("type");e==null||e.addEventListener("input",()=>{this.direction=e.value,this.updateElementBackground()}),t==null||t.addEventListener("input",()=>{this.type=t.value,this.updateElementBackground()})}}const v=document.getElementById("app"),E=document.getElementById("preview"),p=document.createElement("div");p.classList.add("color__handlers");new m({el:v,previewEl:E,colorHandlersEl:p});const d=document.getElementById("copy-css");d==null||d.addEventListener("click",()=>{let i=document.querySelector("#css");navigator.clipboard.writeText(i.value);const e=document.getElementById("copied");e==null||e.classList.add("show"),setTimeout(()=>e==null?void 0:e.classList.remove("show"),500)});
